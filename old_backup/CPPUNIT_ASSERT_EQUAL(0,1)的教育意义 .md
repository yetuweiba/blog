#CPPUNIT_ASSERT_EQUAL(0,1)的教育意义
>写作时间是2012-5-21 23:09

>以下是正文

今天下午测试代码，使用了开源的自动测试库CPP_UNIT,这个库可以进行自动测试，如果搭好环境，输入标题的代码，编译后运行，程序会自动告诉你有处错误：0不等于1。这是常识。

但今天下午在写测试代码的时候，碰到貌似是常识的问题：

CPPUNIT_ASSERT_EQUAL(a,b)，a是在一个地方定义的常量(不能更改的值)，b是计算出来的结果。在正确的情况下，两个数是相等的，执行正确了。我又将a的值在找到的定义处改为明显和正确结果不相等的值，预期是程序在此处报错，但执行下来发现两个数相等！于是就开始检查，中间打印出b的值，是正确的值，但为什么错误地相等？一直思考不出来。期间找到a的定义处，检查拼写，无误;检查是否编译正确的文件，无误。于是怀疑开源库的问题，以前怀疑过，但结果都证明是自己错误。后来好像自己没办法了。去问我的leader,他在CPPUNIT_ASSERT_EQUAL(a,b)后加上了标题的代码:CPPUNIT_ASSERT_EQUAL(0,1)来检查库是否有问题，编译运行后在此处报出错误：0不等于1，证明库没问题。后来又看了修改a定义的地方，发现我找错a定义的地方了。原因找出来了，粗心的错误，自己又2了。但为什么会2呢？

思考了leader给我说的话，库一般是不会错的，如果你的常识和这些经过很多考验证明无误的库冲突的时候，检查你的常识。现在也想，如果当时注意查找定义的跳转（当时有两个选项，第一个是错误的，第二个是正确的），懒得看，下意识选了第一个。粗心细心不是借口，还是个人习惯的问题。如果当时不是懒得看，如果在出错的时候根据以前的情况，脑袋不热，静下心来思考原因，或许这个2今天就没了。但，如果终归是如果。路漫漫其修远兮，还有许多毛燥的地方需要更改。勉之。